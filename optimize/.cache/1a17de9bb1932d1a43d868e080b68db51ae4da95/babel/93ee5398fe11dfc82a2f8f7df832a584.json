{"remainingRequest":"/home/mazza/kibana_6.20/kibana-6.2_Pirelli/node_modules/babel-loader/lib/index.js??ref--6-1!/home/mazza/kibana_6.20/kibana-6.2_Pirelli/src/ui/public/courier/data_source/_migrate_filter.js","dependencies":[{"path":"/home/mazza/kibana_6.20/kibana-6.2_Pirelli/src/ui/public/courier/data_source/_migrate_filter.js","mtime":1526650528255},{"path":"/home/mazza/kibana_6.20/kibana-6.2_Pirelli/node_modules/cache-loader/dist/cjs.js","mtime":1526650760833},{"path":"/home/mazza/kibana_6.20/kibana-6.2_Pirelli/node_modules/babel-loader/lib/index.js","mtime":1526650754489}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.migrateFilter = migrateFilter;\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _phrase = require('ui/filter_manager/lib/phrase');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction migrateFilter(filter, indexPattern) {\n  if (filter.match) {\n    var fieldName = Object.keys(filter.match)[0];\n\n    if (isMatchPhraseFilter(filter, fieldName)) {\n      var params = _lodash2.default.get(filter, ['match', fieldName]);\n      if (indexPattern) {\n        var field = indexPattern.fields.find(function (f) {\n          return f.name === fieldName;\n        });\n        if (field) {\n          params.query = (0, _phrase.getConvertedValueForField)(field, params.query);\n        }\n      }\n      return {\n        match_phrase: _defineProperty({}, fieldName, _lodash2.default.omit(params, 'type'))\n      };\n    }\n  }\n\n  return filter;\n}\n\nfunction isMatchPhraseFilter(filter, fieldName) {\n  return _lodash2.default.get(filter, ['match', fieldName, 'type']) === 'phrase';\n}",null]}