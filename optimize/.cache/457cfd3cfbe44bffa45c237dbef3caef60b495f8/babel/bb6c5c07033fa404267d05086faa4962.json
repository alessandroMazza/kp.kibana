{"remainingRequest":"/home/mazza/kibana_6.20/kibana-6.2_Pirelli/node_modules/babel-loader/lib/index.js??ref--6-1!/home/mazza/kibana_6.20/kibana-6.2_Pirelli/src/core_plugins/kibana/public/management/sections/indices/create_index_pattern_wizard/lib/get_matched_indices.js","dependencies":[{"path":"/home/mazza/kibana_6.20/kibana-6.2_Pirelli/src/core_plugins/kibana/public/management/sections/indices/create_index_pattern_wizard/lib/get_matched_indices.js","mtime":1526650526918},{"path":"/home/mazza/kibana_6.20/kibana-6.2_Pirelli/node_modules/cache-loader/dist/cjs.js","mtime":1526650760833},{"path":"/home/mazza/kibana_6.20/kibana-6.2_Pirelli/node_modules/babel-loader/lib/index.js","mtime":1526650754489}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getMatchedIndices = getMatchedIndices;\n\nvar _constants = require('../constants');\n\nvar _is_query_a_match = require('./is_query_a_match');\n\nfunction filterSystemIndices(indices, isIncludingSystemIndices) {\n  if (!indices) {\n    return indices;\n  }\n\n  var acceptableIndices = isIncludingSystemIndices ? indices\n  // All system indices begin with a period.\n  : indices.filter(function (index) {\n    return !index.name.startsWith('.');\n  });\n\n  return acceptableIndices.slice(0, _constants.MAX_NUMBER_OF_MATCHING_INDICES);\n}\n\nfunction getMatchedIndices(unfilteredAllIndices, unfilteredPartialMatchedIndices, query, isIncludingSystemIndices) {\n  var allIndices = filterSystemIndices(unfilteredAllIndices, isIncludingSystemIndices);\n  var partialMatchedIndices = filterSystemIndices(unfilteredPartialMatchedIndices, isIncludingSystemIndices);\n\n  var exactIndices = partialMatchedIndices.filter(function (_ref) {\n    var name = _ref.name;\n    return (0, _is_query_a_match.isQueryAMatch)(query, name);\n  });\n  var exactMatchedIndices = filterSystemIndices(exactIndices, isIncludingSystemIndices);\n\n  var visibleIndices = void 0;\n  if (exactMatchedIndices.length) {\n    visibleIndices = exactMatchedIndices;\n  } else if (partialMatchedIndices.length) {\n    visibleIndices = partialMatchedIndices;\n  } else {\n    visibleIndices = allIndices;\n  }\n\n  return {\n    allIndices: allIndices,\n    exactMatchedIndices: exactMatchedIndices,\n    partialMatchedIndices: partialMatchedIndices,\n    visibleIndices: visibleIndices\n  };\n}",null]}